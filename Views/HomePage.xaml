<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="trovagiocatoriApp.Views.HomePage"
             Title=""
             Shell.NavBarIsVisible="False"
             BackgroundColor="#F5F7FA">

    <!-- Configurazione ottimizzata per Android con dimensioni responsive -->
    <ContentPage.Resources>
        <ResourceDictionary>
            <!-- Stili moderni per elementi UI -->
            <Style x:Key="HeaderStyle" TargetType="Label">
                <Setter Property="FontFamily" Value="OpenSansExtraBold"/>
                <Setter Property="FontSize" Value="22"/>
                <Setter Property="TextColor" Value="#303545"/>
                <Setter Property="FontAttributes" Value="Bold"/>
                <Setter Property="HorizontalOptions" Value="Center"/>
            </Style>
            <Style x:Key="SubHeaderStyle" TargetType="Label">
                <Setter Property="FontFamily" Value="OpenSansRegular"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="TextColor" Value="#6D7A8D"/>
                <Setter Property="HorizontalOptions" Value="Center"/>
            </Style>
            <Style x:Key="PrimaryButtonStyle" TargetType="Button">
                <Setter Property="BackgroundColor" Value="#FC4C02"/>
                <Setter Property="TextColor" Value="White"/>
                <Setter Property="FontAttributes" Value="Bold"/>
                <Setter Property="CornerRadius" Value="25"/>
                <Setter Property="FontSize" Value="16"/>
                <Setter Property="HeightRequest" Value="50"/>
                <Setter Property="Padding" Value="20,0"/>
            </Style>
            <Style x:Key="CardStyle" TargetType="Frame">
                <Setter Property="BackgroundColor" Value="White"/>
                <Setter Property="CornerRadius" Value="16"/>
                <Setter Property="HasShadow" Value="True"/>
                <Setter Property="BorderColor" Value="Transparent"/>
                <Setter Property="Padding" Value="18"/>
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid>
        <!-- Contenuto principale con ottimizzazione per dispositivi Android -->
        <ScrollView>
            <VerticalStackLayout Spacing="16" Padding="14,5,14,20">
                <!-- Header moderno con effetto sfumato -->
                <Grid BackgroundColor="Black" HeightRequest="75" Margin="0,0,0,0">
                    <Grid.Shadow>
                        <Shadow Brush="#80000000" Offset="0,4" Radius="8" Opacity="0.2"/>
                    </Grid.Shadow>
                    <HorizontalStackLayout HorizontalOptions="Center" VerticalOptions="Center">
                        <Image Source="trovagiocatori.png" HeightRequest="55" WidthRequest="220" />
                    </HorizontalStackLayout>
                </Grid>

                <!-- Hero Section con stile moderno e materiale -->
                <Frame Style="{StaticResource CardStyle}" Margin="0,10,0,10" Padding="0" HeightRequest="240">
                    <Grid>
                        <Image Source="sfondo.png" Aspect="AspectFill" />
                        <BoxView Color="#80000000" />
                        <VerticalStackLayout Spacing="14" Padding="20" VerticalOptions="Center">
                            <Label Text="TROVAGIOCATORI" 
                                   FontSize="24" 
                                   FontAttributes="Bold" 
                                   TextColor="White" 
                                   HorizontalOptions="Center" />
                            <Label Text="Trova rapidamente compagni per le tue partite"
                                   FontSize="16"
                                   TextColor="White"
                                   Opacity="0.9"
                                   HorizontalOptions="Center"
                                   HorizontalTextAlignment="Center"/>
                            <Button Text="CREA UN POST"
                                    Style="{StaticResource PrimaryButtonStyle}"
                                    Margin="0,10,0,0"
                                    HorizontalOptions="Center"
                                    Clicked="OnCreatePostButtonClicked">
                                <Button.Shadow>
                                    <Shadow Brush="#80000000" Offset="0,4" Radius="4" Opacity="0.3"/>
                                </Button.Shadow>
                            </Button>
                        </VerticalStackLayout>
                    </Grid>
                </Frame>

                <!-- Selezione Regione -->
                <Frame Style="{StaticResource CardStyle}">
                    <VerticalStackLayout Spacing="12">
                        <Label Text="Seleziona Regione" Style="{StaticResource HeaderStyle}"/>
                        <Border Stroke="#E5E9F0" StrokeThickness="1" StrokeShape="RoundRectangle 12">
                            <Picker x:Name="RegionPicker"
                                    Title="Seleziona una regione"
                                    ItemsSource="{Binding Regions}" 
                                    SelectedItem="{Binding SelectedRegion}" 
                                    HorizontalOptions="FillAndExpand"
                                    BackgroundColor="#F8FAFC"
                                    FontSize="15"
                                    TextColor="#303545"
                                    Margin="8,0"/>
                        </Border>
                    </VerticalStackLayout>
                </Frame>

                <!-- Seleziona Provincia -->
                <Frame Style="{StaticResource CardStyle}" IsVisible="{Binding IsProvincePickerVisible}">
                    <VerticalStackLayout Spacing="12">
                        <Label Text="SELEZIONA PROVINCIA" Style="{StaticResource HeaderStyle}"/>
                        <Border Stroke="#E5E9F0" StrokeThickness="1" StrokeShape="RoundRectangle 12">
                            <Picker x:Name="ProvincePicker"
                                    Title="Seleziona una provincia"
                                    ItemsSource="{Binding Provinces}"
                                    SelectedItem="{Binding SelectedProvince}"
                                    HorizontalOptions="FillAndExpand"
                                    BackgroundColor="#F8FAFC"
                                    FontSize="15"
                                    TextColor="#303545"
                                    Margin="8,0"/>
                        </Border>
                    </VerticalStackLayout>
                </Frame>

                <!-- Seleziona Sport -->
                <Frame Style="{StaticResource CardStyle}" IsVisible="{Binding IsSportPickerVisible}">
                    <VerticalStackLayout Spacing="12">
                        <Label Text="SELEZIONA SPORT" Style="{StaticResource HeaderStyle}"/>
                        <Border Stroke="#E5E9F0" StrokeThickness="1" StrokeShape="RoundRectangle 12">
                            <Picker x:Name="SportPicker"
                                    Title="Seleziona uno sport"
                                    ItemsSource="{Binding Sports}"
                                    SelectedItem="{Binding SelectedSport}"
                                    HorizontalOptions="FillAndExpand"
                                    BackgroundColor="#F8FAFC"
                                    FontSize="15"
                                    TextColor="#303545"
                                    Margin="8,0"/>
                        </Border>
                    </VerticalStackLayout>
                </Frame>

                <!-- Bottone GIOCA -->
                <Button Text="GIOCA ORA"
                        Style="{StaticResource PrimaryButtonStyle}"
                        Margin="20,5"
                        HorizontalOptions="Fill"
                        Clicked="PostPageClicked">
                    <Button.Shadow>
                        <Shadow Brush="#80000000" Offset="0,4" Radius="4" Opacity="0.3"/>
                    </Button.Shadow>
                </Button>

                <Label x:Name="ErrorLabel" 
                       IsVisible="False" 
                       TextColor="#FF3B30" 
                       FontSize="14"
                       HorizontalOptions="Center" 
                       VerticalOptions="Center" 
                       Text="Compilare tutti i campi" />

                <!-- Descrizione del sito con Logo -->
                <Frame Style="{StaticResource CardStyle}" Margin="0,5,0,10">
                    <VerticalStackLayout Spacing="15" HorizontalOptions="Center">
                        <!-- Logo con effetto arrotondato e ombra -->
                        <Frame CornerRadius="16" IsClippedToBounds="True" Padding="0" 
                               BorderColor="Transparent" HasShadow="False" Margin="0,0,0,5">
                            <Image Source="logo_in_home.jpg" HeightRequest="200" Aspect="AspectFit" />
                        </Frame>

                        <!-- Titolo e Descrizione -->
                        <Label Text="Cos'è Trovagiocatori?"
                               Style="{StaticResource HeaderStyle}"
                               Margin="0,5,0,0"/>

                        <Label Text="Ti aiutiamo a trovare il giocatore mancante e ad organizzare le tue partite quando, come e con chi vuoi!"
                               FontSize="14"
                               TextColor="#6D7A8D"
                               HorizontalOptions="Center"
                               HorizontalTextAlignment="Center" />
                    </VerticalStackLayout>
                </Frame>

                <!-- Sezione "Come funziona?" con UI moderna -->
                <Frame Style="{StaticResource CardStyle}" Margin="0,0,0,5">
                    <VerticalStackLayout Spacing="16">
                        <Label Text="Come funziona?" Style="{StaticResource HeaderStyle}"/>

                        <Grid ColumnDefinitions="*,*,*" RowDefinitions="Auto" ColumnSpacing="8" Margin="0,5,0,0">
                            <!-- Prima Colonna -->
                            <Frame Grid.Column="0" BackgroundColor="#EBF8FF" Padding="10" CornerRadius="14" 
                                   HasShadow="False" BorderColor="Transparent">
                                <VerticalStackLayout HorizontalOptions="Center" Spacing="8">
                                    <Frame BackgroundColor="#239FED" CornerRadius="25" HasShadow="False"
                                           WidthRequest="42" HeightRequest="42" HorizontalOptions="Center" Padding="0">
                                        <Label Text="1" FontSize="18" FontAttributes="Bold" TextColor="White"
                                               HorizontalOptions="Center" VerticalOptions="Center"/>
                                    </Frame>
                                    <Label Text="Seleziona"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#303545"
                                           HorizontalOptions="Center" />
                                    <Label Text="Scegli provincia e sport"
                                           FontSize="12"
                                           TextColor="#6D7A8D"
                                           HorizontalOptions="Center"
                                           HorizontalTextAlignment="Center" />
                                </VerticalStackLayout>
                            </Frame>

                            <!-- Seconda Colonna -->
                            <Frame Grid.Column="1" BackgroundColor="#ECFDF5" Padding="10" CornerRadius="14" 
                                   HasShadow="False" BorderColor="Transparent">
                                <VerticalStackLayout HorizontalOptions="Center" Spacing="8">
                                    <Frame BackgroundColor="#10B981" CornerRadius="25" HasShadow="False"
                                           WidthRequest="42" HeightRequest="42" HorizontalOptions="Center" Padding="0">
                                        <Label Text="2" FontSize="18" FontAttributes="Bold" TextColor="White"
                                               HorizontalOptions="Center" VerticalOptions="Center"/>
                                    </Frame>
                                    <Label Text="Crea"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#303545"
                                           HorizontalOptions="Center" />
                                    <Label Text="Pubblica il tuo annuncio"
                                           FontSize="12"
                                           TextColor="#6D7A8D"
                                           HorizontalOptions="Center"
                                           HorizontalTextAlignment="Center" />
                                </VerticalStackLayout>
                            </Frame>

                            <!-- Terza Colonna -->
                            <Frame Grid.Column="2" BackgroundColor="#FFF8EC" Padding="10" CornerRadius="14" 
                                   HasShadow="False" BorderColor="Transparent">
                                <VerticalStackLayout HorizontalOptions="Center" Spacing="8">
                                    <Frame BackgroundColor="#FC4C02" CornerRadius="25" HasShadow="False"
                                           WidthRequest="42" HeightRequest="42" HorizontalOptions="Center" Padding="0">
                                        <Label Text="3" FontSize="18" FontAttributes="Bold" TextColor="White"
                                               HorizontalOptions="Center" VerticalOptions="Center"/>
                                    </Frame>
                                    <Label Text="Connetti"
                                           FontSize="14"
                                           FontAttributes="Bold"
                                           TextColor="#303545"
                                           HorizontalOptions="Center" />
                                    <Label Text="Chatta e organizza"
                                           FontSize="12"
                                           TextColor="#6D7A8D"
                                           HorizontalOptions="Center"
                                           HorizontalTextAlignment="Center" />
                                </VerticalStackLayout>
                            </Frame>
                        </Grid>
                    </VerticalStackLayout>
                </Frame>

                <!-- Footer -->
                <Grid HeightRequest="80" BackgroundColor="black" Margin="0,15,0,0">
                    <VerticalStackLayout HorizontalOptions="Center" VerticalOptions="Center" Spacing="2">
                        <Label Text="TrovagiocatoriApp © 2025" 
                               FontSize="14" 
                               TextColor="White" 
                               HorizontalOptions="Center" />
                        <Label Text="La migliore app per trovare compagni di gioco"
                               FontSize="12"
                               TextColor="White"
                               Opacity="0.8"
                               HorizontalOptions="Center" />
                    </VerticalStackLayout>
                </Grid>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>