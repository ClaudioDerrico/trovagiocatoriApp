<!-- ProfilePage.xaml -->
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="trovagiocatoriApp.Views.ProfilePage"
             Title="Profilo Utente"
             BackgroundColor="#F0F2F5">

    <ScrollView>
        <VerticalStackLayout Padding="24" Spacing="24" HorizontalOptions="Center">

            <!-- Profilo Header -->
            <Frame CornerRadius="24"
                   Padding="0"
                   HasShadow="True"
                   Background="White">
                <Grid RowDefinitions="200, Auto" ColumnDefinitions="*">
                    <!-- Gradient Background -->
                    <BoxView Grid.Row="0">
                        <BoxView.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                <GradientStop Offset="0.0" Color="#1877F2" />
                                <GradientStop Offset="1.0" Color="#5B9CFD" />
                            </LinearGradientBrush>
                        </BoxView.Background>
                    </BoxView>
                    <!-- Avatar -->
                    <Frame Grid.Row="0"
                           CornerRadius="60"
                           WidthRequest="120"
                           HeightRequest="120"
                           VerticalOptions="Center"
                           HorizontalOptions="Center"
                           BackgroundColor="White"
                           HasShadow="True">
                        <Image x:Name="ProfileImage"
                               Aspect="AspectFill"
                               Source="default_avatar.png"
                               VerticalOptions="Center"
                               HorizontalOptions="Center"/>
                    </Frame>
                    <!-- Username -->
                    <Label Grid.Row="1"
                           x:Name="UsernameLabel"
                           TextColor="#333333"
                           FontSize="32"
                           FontAttributes="Bold"
                           HorizontalOptions="Center"
                           Margin="0,16,0,8"/>
                </Grid>
            </Frame>

            <!-- Dati Utente -->
            <Frame CornerRadius="16"
                   Padding="20"
                   BackgroundColor="White"
                   HasShadow="True">
                <VerticalStackLayout Spacing="12">
                    <Label Text="Nome"
                           FontAttributes="Bold"
                           TextColor="#555555"/>
                    <Label x:Name="NameLabel"
                           FontSize="18"
                           TextColor="#333333"/>

                    <BoxView HeightRequest="1" BackgroundColor="#E0E0E0"/>

                    <Label Text="Cognome"
                           FontAttributes="Bold"
                           TextColor="#555555"/>
                    <Label x:Name="SurnameLabel"
                           FontSize="18"
                           TextColor="#333333"/>

                    <BoxView HeightRequest="1" BackgroundColor="#E0E0E0"/>

                    <Label Text="Email"
                           FontAttributes="Bold"
                           TextColor="#555555"/>
                    <Label x:Name="EmailLabel"
                           FontSize="18"
                           TextColor="#333333"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Azioni Profilo -->
            <VerticalStackLayout Spacing="16">
                <Button Text="Modifica Password"
                        FontAttributes="Bold"
                        CornerRadius="8"
                        HeightRequest="48"
                        Background="#5B9CFD"
                        TextColor="White"
                        Clicked="OnNavigateToChangePassword"/>

                <Button Text="Logout"
                        FontAttributes="Bold"
                        CornerRadius="8"
                        HeightRequest="48"
                        Background="#FF4444"
                        TextColor="White"
                        Clicked="OnLogoutButtonClicked"/>
            </VerticalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>

